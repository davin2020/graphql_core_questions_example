# An example GraphQL API
Built with Node.JS, Express and the [express-graphql](https://github.com/graphql/express-graphql) package.
## Install steps
1) Firstly clone this repo locally
2) Run `npm install` to install the project dependencies
3) Run `node index.js` or `nodemon index.js` to start the application

You should then be able to access the GraphiQL UI by visting [http://localhost:4004/graphql](http://localhost:4004/graphql)

## Example Usage

Full documentation is generated by the GraphiQL UI which can be accessed by visting [http://localhost:4000/graphql](http://localhost:4004/graphql)


<!--
### Fetch a single course by ID
#### Query
```
query {
  course(id: 1) {
    title
    trainer {
      name
    }
    url
  }
}
```

#### Response
```
{
  "data": {
    "course": {
      "title": "Full Stack Track",
      "trainer": [
        {
          "name": "Ashley Coles"
        },
        {
          "name": "Mike Oram"
        }
      ],
      "url": "https://mayden.academy/full-stack-track/"
    }
  }
}
```
-->

### Fetch all CoreQuestions
#### Query
```
query {
  questions {
    q_id
    question
    points_type
    possibleAnswers{
      scale_id
      label
      points
    }
  }
}

```

#### Response
```
{
  "data": {
    "questions": [
      {
        "q_id": 1,
        "question": "I have felt tense, anxious or nervous",
        "points_type": 123,
        "possibleAnswers": [
          {
            "scale_id": 10,
            "label": "Not all all",
            "points": 0
          },
          {
            "scale_id": 20,
            "label": "Only occasionally",
            "points": 1
          },
          {
            "scale_id": 30,
            "label": "Sometimes",
            "points": 2
          }
        ]
      },
      {
        "q_id": 2,
        "question": " I have felt I have someone to turn to for support when needed",
        "points_type": 321,
        "possibleAnswers": [
          {
            "scale_id": 10,
            "label": "Not all all",
            "points": 4
          },
          {
            "scale_id": 20,
            "label": "Only occasionally",
            "points": 3
          },
          {
            "scale_id": 30,
            "label": "Sometimes",
            "points": 2
          }
        ]
      }
    ]
  }
}
```

<!--
### Fetch a list of courses by topic - N/A
#### Query
```
query {
  courses(topic: "Full Stack") {
    title
    trainer {
      name
    }
    url
  }
}
```

#### Response
```
{
  "data": {
    "courses": [
      {
        "title": "Full Stack Track",
        "trainer": [
          {
            "name": "Ashley Coles"
          },
          {
            "name": "Mike Oram"
          }
        ],
        "url": "https://mayden.academy/full-stack-track/"
      }
    ]
  }
}
```

### Update course topic by ID - N/A
#### Query
```
mutation {
  updateCourseTopic(id: 1, topic: "cheese!") {
    title
    topic
    url
  }
}
```

#### Response 
```
{
  "data": {
    "updateCourseTopic": {
      "title": "Full Stack Track",
      "topic": "cheese!",
      "url": "https://mayden.academy/full-stack-track/"
    }
  }
}
```
-->

## Available types/resources

### Course
```
type CoreQuestion {
    q_id: Int
    question: String
    gp_order: Int
    points_type: Int
    points_id: Int
    possibleAnswers: [AnswerLabel]
}
```


### AnswerLabel
```
type AnswerLabel {
    scale_id: Int
    label: String
    points: Int
}
```
